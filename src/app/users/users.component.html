<app-header></app-header>

<div class="container">

  <div class="row">
    <div class="col-lg-12">
      <h3>Users List</h3>
      <a class="btn btn-outline-primary float-right mb-5" routerLink="/create-user">Create New User</a>
    </div>
  </div>

  <div class="row">

    <table class="table table-bordered text-center">
      <thead class="thead-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Picture</th>
          <th scope="col">User</th>
          <th scope="col">Email</th>
          <th scope="col">Status</th>
          <th scope="col">Menus</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users; let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <td>
            <img *ngIf="user.picture"
                 [src]="convertPicture(user.picture)"
                 class="img-thumbnail"
                 [alt]="user.username" style="width: 10%" />
          </td>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td>
            <button *ngIf="!user.status" class="btn btn-success" (click)="activate(user.id)">Activate</button>
            <button *ngIf="user.status" class="btn btn-danger" (click)="deactivate(user.id)">Deactivate</button>
          </td>
          <td>
            <a class="btn btn-info" routerLink="/assign-menu/{{user.id}}">Assign</a>
          </td>
        </tr>
      </tbody>
    </table>

  </div>

</div>

<ngx-spinner><p style="color: white"> Loading... </p></ngx-spinner>
